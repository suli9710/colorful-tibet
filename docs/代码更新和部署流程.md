# ä»£ç æ›´æ–°å’Œéƒ¨ç½²æµç¨‹

## ğŸ“ å®Œæ•´æµç¨‹

### æ­¥éª¤ 1ï¼šåœ¨æœ¬åœ°æäº¤ä»£ç ä¿®æ”¹

```bash
# åœ¨æœ¬åœ°é¡¹ç›®ç›®å½•ï¼ˆWindowsï¼‰
cd C:\Users\Suli\Desktop\colorful-tibet

# æŸ¥çœ‹ä¿®æ”¹çš„æ–‡ä»¶
git status

# æ·»åŠ ä¿®æ”¹çš„æ–‡ä»¶
git add backend/src/main/java/com/tibet/tourism/DataSeeder.java
git add frontend/package.json
git add frontend/nginx.conf
git add docker-compose.yml

# æäº¤ä¿®æ”¹
git commit -m "fix: ä¿®å¤æ•°æ®åº“å¤–é”®çº¦æŸé”™è¯¯å’Œå‰ç«¯æ„å»ºé—®é¢˜"

# æ¨é€åˆ° GitHub
git push origin main
```

### æ­¥éª¤ 2ï¼šåœ¨æœåŠ¡å™¨ä¸Šæ‹‰å–æ›´æ–°

```bash
# åœ¨æœåŠ¡å™¨ä¸Š
cd /opt/colorful-tibet

# æ‹‰å–æœ€æ–°ä»£ç 
git pull

# éªŒè¯æ–‡ä»¶å·²æ›´æ–°
git log -1
git diff HEAD~1 backend/src/main/java/com/tibet/tourism/DataSeeder.java
```

### æ­¥éª¤ 3ï¼šæ¸…ç†å¹¶é‡æ–°æ„å»º

```bash
# åœæ­¢æœåŠ¡
docker compose down

# æ¸…ç†æ•°æ®åº“æ–‡ä»¶ï¼ˆè§£å†³å¤–é”®çº¦æŸé—®é¢˜ï¼‰
sudo rm -f data/tibet_tourism.mv.db data/tibet_tourism.trace.db

# é‡æ–°æ„å»ºåç«¯ï¼ˆåº”ç”¨ä»£ç ä¿®å¤ï¼‰
docker compose build backend

# é‡æ–°æ„å»ºå‰ç«¯ï¼ˆåº”ç”¨ nginx é…ç½®æ›´æ–°ï¼‰
docker compose build frontend

# å¯åŠ¨æœåŠ¡
docker compose up -d

# ç­‰å¾…æœåŠ¡å¯åŠ¨
sleep 30

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f backend
```

## ğŸš€ å¿«é€Ÿéƒ¨ç½²å‘½ä»¤

### æœ¬åœ°ï¼ˆWindowsï¼‰

```bash
cd C:\Users\Suli\Desktop\colorful-tibet

# æäº¤æ‰€æœ‰ä¿®æ”¹
git add .
git commit -m "fix: ä¿®å¤æ•°æ®åº“å¤–é”®çº¦æŸé”™è¯¯ã€å‰ç«¯æ„å»ºé—®é¢˜å’Œnginxé…ç½®"
git push origin main
```

### æœåŠ¡å™¨ï¼ˆLinuxï¼‰

```bash
cd /opt/colorful-tibet

# æ‹‰å–æ›´æ–°
git pull

# åœæ­¢æœåŠ¡å¹¶æ¸…ç†
docker compose down
sudo rm -f data/tibet_tourism.mv.db data/tibet_tourism.trace.db

# é‡æ–°æ„å»º
docker compose build

# å¯åŠ¨æœåŠ¡
docker compose up -d

# ç­‰å¾…å¯åŠ¨
sleep 30

# æµ‹è¯•
curl http://localhost:8080/api/spots
```

## ğŸ“‹ å·²ä¿®æ”¹çš„æ–‡ä»¶æ¸…å•

éœ€è¦æäº¤çš„æ–‡ä»¶ï¼š
1. âœ… `backend/src/main/java/com/tibet/tourism/DataSeeder.java` - ä¿®å¤å¤–é”®çº¦æŸé”™è¯¯
2. âœ… `frontend/package.json` - ä¿®å¤æ„å»ºå‘½ä»¤å’Œæ·»åŠ  terser
3. âœ… `frontend/nginx.conf` - æ·»åŠ è¶…æ—¶é…ç½®
4. âœ… `frontend/Dockerfile` - æ›´æ–° Node.js ç‰ˆæœ¬
5. âœ… `docker-compose.yml` - æ›´æ–°é…ç½®

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æäº¤å‰æ£€æŸ¥**ï¼šç¡®ä¿æ‰€æœ‰ä¿®æ”¹éƒ½æ˜¯æ­£ç¡®çš„
2. **æµ‹è¯•æœ¬åœ°**ï¼šå¦‚æœå¯èƒ½ï¼Œå…ˆåœ¨æœ¬åœ°æµ‹è¯•
3. **å¤‡ä»½æ•°æ®**ï¼šå¦‚æœæœåŠ¡å™¨æœ‰é‡è¦æ•°æ®ï¼Œå…ˆå¤‡ä»½
4. **é€æ­¥éƒ¨ç½²**ï¼šå…ˆæ›´æ–°ä»£ç ï¼Œå†é‡æ–°æ„å»ºï¼Œæœ€åé‡å¯æœåŠ¡

## ğŸ”„ åç»­æ›´æ–°æµç¨‹

ä»¥åæ¯æ¬¡ä¿®æ”¹ä»£ç åï¼š

```bash
# æœ¬åœ°
git add .
git commit -m "æè¿°ä¿®æ”¹å†…å®¹"
git push origin main

# æœåŠ¡å™¨
cd /opt/colorful-tibet
git pull
docker compose build
docker compose up -d
```

