# 藏语支持功能说明

## 概述

本项目已深度融合藏语支持，考虑藏族用户不认识汉字的情况，提供了完整的中文/藏语双语支持。

## 功能特性

### 1. 前端国际化支持

- **语言切换**：在导航栏提供中文/藏语切换按钮
- **自动保存**：用户选择的语言会保存在localStorage中
- **全局应用**：所有界面文本都支持双语切换

### 2. 后端多语言数据支持

后端实体类已添加藏语字段：
- `ScenicSpot`: `nameTibetan`, `descriptionTibetan`
- `HeritageItem`: `nameTibetan`, `descriptionTibetan`
- `News`: `titleTibetan`, `contentTibetan`
- `TravelRoute`: `nameTibetan`, `descriptionTibetan`

### 3. API自动语言识别

- 前端API请求会自动携带当前语言参数（`locale`）
- 后端Controller根据`locale`参数返回相应语言的数据
- 如果藏语数据不存在，自动回退到中文数据

## 使用方法

### 用户端

1. **切换语言**：点击导航栏右上角的语言切换按钮
   - 中文：显示"中文"
   - 藏语：显示"བོད་ཡིག"

2. **语言持久化**：选择的语言会自动保存，下次访问时自动应用

### 管理员端

在后台管理系统中，可以为景点、非遗文化、新闻等内容添加藏语翻译：

- **景点名称（藏语）**：`nameTibetan` 字段
- **景点描述（藏语）**：`descriptionTibetan` 字段
- **新闻标题（藏语）**：`titleTibetan` 字段
- **新闻内容（藏语）**：`contentTibetan` 字段

## 技术实现

### 前端

- **i18n库**：vue-i18n@9
- **字体支持**：Noto Sans Tibetan（Google Fonts）
- **翻译文件**：
  - `frontend/src/i18n/locales/zh.json` - 中文翻译
  - `frontend/src/i18n/locales/bo.json` - 藏语翻译

### 后端

- **实体类字段**：所有需要多语言的内容实体都添加了`*Tibetan`字段
- **Controller处理**：根据`locale`参数动态返回相应语言的数据
- **回退机制**：如果藏语数据为空，自动使用中文数据

## 数据库迁移

需要在数据库中添加以下字段：

```sql
-- ScenicSpot表
ALTER TABLE scenic_spots ADD COLUMN name_tibetan VARCHAR(255);
ALTER TABLE scenic_spots ADD COLUMN description_tibetan TEXT;

-- HeritageItem表
ALTER TABLE heritage_items ADD COLUMN name_tibetan VARCHAR(255);
ALTER TABLE heritage_items ADD COLUMN description_tibetan TEXT;

-- News表
ALTER TABLE news ADD COLUMN title_tibetan VARCHAR(255);
ALTER TABLE news ADD COLUMN content_tibetan TEXT;

-- TravelRoute表
ALTER TABLE travel_routes ADD COLUMN name_tibetan VARCHAR(255);
ALTER TABLE travel_routes ADD COLUMN description_tibetan TEXT;
```

## 注意事项

1. **字体显示**：确保浏览器支持藏语字体，系统会自动加载Noto Sans Tibetan字体
2. **数据完整性**：建议为所有重要内容添加藏语翻译，以提供更好的用户体验
3. **性能优化**：语言切换不会重新加载页面，仅更新文本内容

## 未来改进

- [ ] 添加更多页面的藏语翻译
- [ ] 支持藏语输入和搜索
- [ ] 添加藏语语音播报功能
- [ ] 优化藏语字体渲染效果

